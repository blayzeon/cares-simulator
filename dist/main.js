(()=>{"use strict";var e={468:e=>{e.exports=JSON.parse('{"bna":[{"destination":"8004838314","status":"Blocked","types":["Advance Pay","Friends and Family"],"name1":"GTL","name2":"IVR Number","address1":"DO NOT SET UP","address2":"","zip":"08083","city":"DO NOT SET UP","state":"NJ","phone1":"8004838314","phone2":"","email":"DONOTSETUP@gtl.net","tax":"","passcode":"","notes":"**** GFUNDS ONLY ****","au":"NONE","lec":"","facility":"Hillsborough County FL-Jail","comments":[{"date":"4/25/2022","time":"1:33:46 PM","comment":"CARES User kristine.carter accessed destination."}],"policies":[{"label":"Cell phone/VOIP setup at own risk","status":false},{"label":"Service Fees","status":false},{"label":"90 Days destination Expiration","status":false},{"label":"180 Days destination Expiration","status":false}]}],"transactions":[{"refundable":false,"type":false,"addedBy":"ConnectNetwork","comment":"","system":"DSI-EMAIL-WEB","status":"DECLINED","destination":"8004838314","cc":"472776********3464","exp":"0323","amount":"1.00","auth1":"","auth2":"","order":"D1265451008","date":"4/7/2022 3:56:31 PM","vender":"PaymenTech","transaction":"Payment","transaction2":"","fee":"0.00"},{"refundable":true,"type":"Deposit","addedBy":"InContactMainAdvancePayIVR","comment":"","system":"ADVANCEPAY-IVR","status":"APPROVED","destination":"8004838314","cc":"474476********1551","exp":"0826","amount":"25.00","auth1":"709002700000HBK20220426100629527","auth2":"190264","order":"D1066312614","date":"4/26/2022 2:06:30 PM","vender":"PaymenTech","transaction1":"Payment","transaction2":"Post-Auth","fee":"3.00"}]}')}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}(()=>{const e={all:n(468),returnCurrentDateTime(){const e=new Date;return{date:e.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}),time:e.toLocaleTimeString("en-US")}},find(e){return this.all.bna.find((t=>t.destination===e))},filter(e){return this.all.transactions.filter((t=>t.destination===e))},bna:e=>({name1:e.name1,name2:e.name2,address1:e.address1,address2:e.address2,zip:e.zip,city:e.city,state:e.state,phone1:e.phone1,phone2:e.phone2,email:e.email,tax:e.tax,passcode:e.passcode,notes:e.notes,au:e.au,lec:e.lec,facility:e.facility}),create(e){return this.all.bna.push({destination:e,status:"Active",types:["Advance Pay"],name1:"",name2:"",address1:"",address2:"",zip:"",city:"",state:"",phone1:"",phone2:"",email:"",tax:"",passcode:"",notes:"",au:"",lec:"",facility:"",comments:[],policies:[{label:"Cell phone/VOIP setup at own risk",status:!1},{label:"Service Fees",status:!1},{label:"90 Days Account Expiration",status:!1},{label:"180 Days Account Expiration",status:!1}]}),this.all.bna[this.all.bna.length-1]},set:(e,t,n)=>(e[t]=n,e),addComment:(e,t,n="4/25/2022",a="4:40 PM")=>(e.comments.push({date:n,time:a,comment:t}),e.comments[e.comments.length-1]),addDeposit(e={}){const t=e;if(e.type||(t.type="Deposit"),"Deposit"===e.type&&(t.refundable=!0,e.addedBy||(t.addedBy="InContactMainAdvancePayIVR"),e.system||(t.system="ADVANCEPAY-IVR"),e.status||(t.status="APPROVED"),e.cc||(t.cc="444444********4444"),e.exp||(t.exp="1299"),e.auth1||(t.auth1="00000000000000000000000000000000"),e.auth2||(t.auth2="000000"),e.order||(t.order="00000000000"),e.vender||(t.vender="PaymenTech"),e.transaction1||(t.transaction1="Payment"),e.transaction2||(t.transaction2="Post-Auth"),e.fee||(t.fee="3.00")),e.destination||(t.destination="8004838314"),e.amount||(t.amount="5.00"),e.comment||(t.comment=""),!e.date){const e=this.returnCurrentDateTime();t.date=`${e.date} ${e.time}`}return this.all.transactions.push(t),this.all.transactions[this.all.transactions.length-1]},returnTransactions(t){const n=e.filter(t),a=[];let s=0;return n.forEach((e=>{if(e.type)if("Deposit"===e.type||"AdjustmentIncrease"===e.type){if(s+=parseFloat(e.amount),a.unshift({Date:e.date,Type:e.type,"Added By":e.addedBy,Amount:`$${e.amount}`,Balance:`$${s.toFixed(2)}`,Comment:e.comment}),e.fee){const t=(.0325*e.amount).toFixed(2);s-=parseFloat(t),a.unshift({Date:e.date,Type:"3rdPartyFinancialTransactionFee","Added By":e.addedBy,Amount:`$${t}`,Balance:`$${s.toFixed(2)}`,Comment:""}),s-=parseFloat(e.fee),a.unshift({Date:e.date,Type:"DepositTransactionFee","Added By":e.addedBy,Amount:`$${e.fee}`,Balance:`$${s.toFixed(2)}`,Comment:""})}}else s-=parseFloat(e.amount),a.unshift({Date:e.date,Type:e.type,"Added By":e.addedBy,Amount:`$${e.amount}`,Balance:`$${s.toFixed(2)}`,Comment:e.comment})})),{deposits:a,balance:s.toFixed(2)}},returnRefundable(t){const n=e.filter(t),a=[];for(let e=0;e<n.length;e+=1)if(console.log(n[e]),n[e].refundable){const t={menu1:{date:"undefined",addedBy:"undefined",amount:"undefined",cc:"undefined",comment:"undefined",exp:"undefined"},menu2:{merchantId:"284973",cc:"undefined",exp:"undefined",date:"undefined",amount:"undefined"},refundInfo:void 0};for(let a in n[e])t.menu1[a]&&(t.menu1[a]=n[e][a]),t.menu2[a]&&(t.menu2[a]=n[e][a]),t.refundInfo={obj:{destination:(s=n[e]).destination,type:"AdjustmentDecrease",amount:s.amount,addedBy:"CARES",cc:s.cc,exp:s.exp,system:"CARES",comment:"Adjustment Decrease for Refund Request",refundable:!1},transaction:s};a.push(t)}var s;return a},refundTransaction(e,t){return t.refundable=!1,this.addDeposit(e)},transfer(e,t,n,a=""){const s={type:"AdjustmentDecrease",destination:e,amount:n,comment:a},o={type:"AdjustmentIncrease",destination:t,amount:n,comment:a};return this.addDeposit(s),this.addDeposit(o),{remove:s,add:o}}};function t(e,t){const n=document.querySelector("body"),a=document.createElement("div"),s=document.createElement("input");if(s.setAttribute("type",e),"button"!==e){const e=document.createElement("label");e.innerText=t,a.appendChild(e)}else s.value=t;return a.appendChild(s),n.appendChild(a),s}const a=t("text","phone number: ");a.value="8004838314";const s=t("button","bna"),o=e;o.addDeposit({amount:"999.99",destination:"8004838314"}),s.addEventListener("click",(()=>{const e=a.value,t=o.filter(e),n=o.returnRefundable(e);console.log(t),console.log(n)}))})()})();